<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.7 Conditional Parallel Trend Assumption | Causal Inference</title>
  <meta name="description" content="4.7 Conditional Parallel Trend Assumption | Causal Inference" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="4.7 Conditional Parallel Trend Assumption | Causal Inference" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.7 Conditional Parallel Trend Assumption | Causal Inference" />
  
  
  

<meta name="author" content="Vinish Shrestha" />


<meta name="date" content="2025-01-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="did-in-multi-period-set-up.html"/>
<link rel="next" href="some-concerns-with-controls.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="assets/kePrint-0.0.1/kePrint.js"></script>
<link href="assets/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Work in Progress</a></li>
<li class="chapter" data-level="2" data-path="causal-inference-an-introduction.html"><a href="causal-inference-an-introduction.html"><i class="fa fa-check"></i><b>2</b> Causal Inference: An Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="potential-outcome-framework-neyman-rubin-causal-model.html"><a href="potential-outcome-framework-neyman-rubin-causal-model.html"><i class="fa fa-check"></i><b>2.1</b> Potential Outcome Framework: Neyman-Rubin Causal Model</a></li>
<li class="chapter" data-level="2.2" data-path="average-treatment-effect-ate.html"><a href="average-treatment-effect-ate.html"><i class="fa fa-check"></i><b>2.2</b> Average treatment effect (ATE)</a></li>
<li class="chapter" data-level="2.3" data-path="rct.html"><a href="rct.html"><i class="fa fa-check"></i><b>2.3</b> RCT</a></li>
<li class="chapter" data-level="2.4" data-path="average-treatment-effect-on-the-treated-att.html"><a href="average-treatment-effect-on-the-treated-att.html"><i class="fa fa-check"></i><b>2.4</b> Average treatment effect on the treated (ATT)</a></li>
<li class="chapter" data-level="2.5" data-path="an-estimation-example.html"><a href="an-estimation-example.html"><i class="fa fa-check"></i><b>2.5</b> An estimation example</a></li>
<li class="chapter" data-level="2.6" data-path="unconfoundedness-assumption.html"><a href="unconfoundedness-assumption.html"><i class="fa fa-check"></i><b>2.6</b> Unconfoundedness assumption</a></li>
<li class="chapter" data-level="2.7" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>2.7</b> Discussion</a></li>
<li class="chapter" data-level="2.8" data-path="reference.html"><a href="reference.html"><i class="fa fa-check"></i><b>2.8</b> Reference</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ipw-and-aipw.html"><a href="ipw-and-aipw.html"><i class="fa fa-check"></i><b>3</b> IPW and AIPW</a>
<ul>
<li class="chapter" data-level="3.1" data-path="a-simple-example.html"><a href="a-simple-example.html"><i class="fa fa-check"></i><b>3.1</b> A simple example</a></li>
<li class="chapter" data-level="3.2" data-path="aggregated-estimator.html"><a href="aggregated-estimator.html"><i class="fa fa-check"></i><b>3.2</b> Aggregated Estimator</a></li>
<li class="chapter" data-level="3.3" data-path="propensity-score.html"><a href="propensity-score.html"><i class="fa fa-check"></i><b>3.3</b> Propensity score</a></li>
<li class="chapter" data-level="3.4" data-path="estimation-of-propensity-score.html"><a href="estimation-of-propensity-score.html"><i class="fa fa-check"></i><b>3.4</b> Estimation of propensity score</a></li>
<li class="chapter" data-level="3.5" data-path="using-cross-fitting-to-predict-propensity-score.html"><a href="using-cross-fitting-to-predict-propensity-score.html"><i class="fa fa-check"></i><b>3.5</b> Using cross-fitting to predict propensity score</a></li>
<li class="chapter" data-level="3.6" data-path="propensity-score-stratification.html"><a href="propensity-score-stratification.html"><i class="fa fa-check"></i><b>3.6</b> Propensity score stratification</a></li>
<li class="chapter" data-level="3.7" data-path="inverse-probability-weighting-ipw.html"><a href="inverse-probability-weighting-ipw.html"><i class="fa fa-check"></i><b>3.7</b> Inverse Probability Weighting (IPW)</a></li>
<li class="chapter" data-level="3.8" data-path="comparing-ipw-with-aggregated-estimate.html"><a href="comparing-ipw-with-aggregated-estimate.html"><i class="fa fa-check"></i><b>3.8</b> Comparing IPW with Aggregated Estimate</a></li>
<li class="chapter" data-level="3.9" data-path="aipw-and-estimation.html"><a href="aipw-and-estimation.html"><i class="fa fa-check"></i><b>3.9</b> AIPW and Estimation</a></li>
<li class="chapter" data-level="3.10" data-path="assessing-balance.html"><a href="assessing-balance.html"><i class="fa fa-check"></i><b>3.10</b> Assessing Balance</a></li>
<li class="chapter" data-level="3.11" data-path="cross-fitting.html"><a href="cross-fitting.html"><i class="fa fa-check"></i><b>3.11</b> Cross-fitting</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>4</b> Difference in Differences</a>
<ul>
<li class="chapter" data-level="4.1" data-path="a-quick-introduction.html"><a href="a-quick-introduction.html"><i class="fa fa-check"></i><b>4.1</b> A Quick Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="set-up.html"><a href="set-up.html"><i class="fa fa-check"></i><b>4.2</b> Set up</a></li>
<li class="chapter" data-level="4.3" data-path="an-example-evaluating-the-impact-of-medicaid-expansion-on-uninsured-rate.html"><a href="an-example-evaluating-the-impact-of-medicaid-expansion-on-uninsured-rate.html"><i class="fa fa-check"></i><b>4.3</b> An example: Evaluating the impact of Medicaid expansion on uninsured rate</a></li>
<li class="chapter" data-level="4.4" data-path="naive-estimator.html"><a href="naive-estimator.html"><i class="fa fa-check"></i><b>4.4</b> Naive estimator</a></li>
<li class="chapter" data-level="4.5" data-path="canonical-difference-in-differences-framework.html"><a href="canonical-difference-in-differences-framework.html"><i class="fa fa-check"></i><b>4.5</b> Canonical Difference in Differences Framework</a></li>
<li class="chapter" data-level="4.6" data-path="did-in-multi-period-set-up.html"><a href="did-in-multi-period-set-up.html"><i class="fa fa-check"></i><b>4.6</b> DiD in multi-period set up</a></li>
<li class="chapter" data-level="4.7" data-path="conditional-parallel-trend-assumption.html"><a href="conditional-parallel-trend-assumption.html"><i class="fa fa-check"></i><b>4.7</b> Conditional Parallel Trend Assumption</a></li>
<li class="chapter" data-level="4.8" data-path="some-concerns-with-controls.html"><a href="some-concerns-with-controls.html"><i class="fa fa-check"></i><b>4.8</b> Some concerns with controls</a></li>
<li class="chapter" data-level="4.9" data-path="the-2-times-2-difference-in-differences-estimate.html"><a href="the-2-times-2-difference-in-differences-estimate.html"><i class="fa fa-check"></i><b>4.9</b> The <span class="math inline">\(2 \times 2\)</span> Difference-in-Differences Estimate</a></li>
<li class="chapter" data-level="4.10" data-path="event-study-model.html"><a href="event-study-model.html"><i class="fa fa-check"></i><b>4.10</b> Event study model</a></li>
<li class="chapter" data-level="4.11" data-path="two-way-fixed-effect-twfe-revisited.html"><a href="two-way-fixed-effect-twfe-revisited.html"><i class="fa fa-check"></i><b>4.11</b> Two way fixed effect (TWFE) Revisited</a></li>
<li class="chapter" data-level="4.12" data-path="various-ways-of-estimation.html"><a href="various-ways-of-estimation.html"><i class="fa fa-check"></i><b>4.12</b> Various ways of estimation</a></li>
<li class="chapter" data-level="4.13" data-path="multi-period-multi-group-and-variation-in-treatment-timing.html"><a href="multi-period-multi-group-and-variation-in-treatment-timing.html"><i class="fa fa-check"></i><b>4.13</b> Multi Period, Multi Group and Variation in Treatment Timing</a></li>
<li class="chapter" data-level="4.14" data-path="problem-with-twfe-in-multiple-group-with-treatment-timing-variation.html"><a href="problem-with-twfe-in-multiple-group-with-treatment-timing-variation.html"><i class="fa fa-check"></i><b>4.14</b> Problem with TWFE in Multiple Group with Treatment Timing Variation</a></li>
<li class="chapter" data-level="4.15" data-path="what-is-twfe-estimating-when-there-is-treatment-timing-variation.html"><a href="what-is-twfe-estimating-when-there-is-treatment-timing-variation.html"><i class="fa fa-check"></i><b>4.15</b> What is TWFE Estimating when there is Treatment Timing Variation?</a></li>
<li class="chapter" data-level="4.16" data-path="assumptions-governing-twfedd-estimate.html"><a href="assumptions-governing-twfedd-estimate.html"><i class="fa fa-check"></i><b>4.16</b> Assumptions governing TWFEDD estimate</a></li>
<li class="chapter" data-level="4.17" data-path="how-does-treatment-effect-heterogeneity-in-time-affect-twfe.html"><a href="how-does-treatment-effect-heterogeneity-in-time-affect-twfe.html"><i class="fa fa-check"></i><b>4.17</b> How Does Treatment Effect Heterogeneity in Time Affect TWFE?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="causal-forest.html"><a href="causal-forest.html"><i class="fa fa-check"></i><b>5</b> Causal Forest</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="summary-of-grf.html"><a href="summary-of-grf.html"><i class="fa fa-check"></i><b>5.2</b> Summary of GRF</a></li>
<li class="chapter" data-level="5.3" data-path="motivation-for-causal-forests.html"><a href="motivation-for-causal-forests.html"><i class="fa fa-check"></i><b>5.3</b> Motivation for Causal Forests</a></li>
<li class="chapter" data-level="5.4" data-path="causal-forest-1.html"><a href="causal-forest-1.html"><i class="fa fa-check"></i><b>5.4</b> Causal Forest</a></li>
<li class="chapter" data-level="5.5" data-path="an-example-of-causal-forest.html"><a href="an-example-of-causal-forest.html"><i class="fa fa-check"></i><b>5.5</b> An example of causal forest</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="heterogeneous-treatment-effects.html"><a href="heterogeneous-treatment-effects.html"><i class="fa fa-check"></i><b>6</b> Heterogeneous Treatment Effects</a>
<ul>
<li class="chapter" data-level="6.1" data-path="some-ways-to-estimate-cate.html"><a href="some-ways-to-estimate-cate.html"><i class="fa fa-check"></i><b>6.1</b> Some ways to estimate CATE</a></li>
<li class="chapter" data-level="6.2" data-path="estimation.html"><a href="estimation.html"><i class="fa fa-check"></i><b>6.2</b> Estimation</a></li>
<li class="chapter" data-level="6.3" data-path="some-remarks-and-questions.html"><a href="some-remarks-and-questions.html"><i class="fa fa-check"></i><b>6.3</b> Some Remarks and Questions</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Causal Inference</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="conditional-parallel-trend-assumption" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Conditional Parallel Trend Assumption<a href="conditional-parallel-trend-assumption.html#conditional-parallel-trend-assumption" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have discussed the parallel trend assumption already. This is the unconditional parallel trend assumption, which assumes that the
<strong>parallel trend assumption</strong> holds without accounting for any covariates.</p>
<p>One way to bolster the credibility of the parallel trend assumption is to claim that it only holds conditional on covariates. For example, since
the decision of whether to expand Medicaid was under the states’ discretion, we may want to condition on a state’s partisan leaning, i.e. Democrat versus Republican Governor.</p>
<p>In the canonical model, the parallel trend assumption can be modified to obtain the conditional parallel trend assumption. This means we
are assuming that the parallel trend only exists once conditioned on covariates. This is given as below.</p>
<p><span class="math display" id="eq:ptrend2">\[\begin{equation}
E(Y^0(1) - Y^0(0)| D = 1, X) = E(Y^0(1) - Y^0(0)| D = 0, X)  \tag{4.3}
\end{equation}\]</span></p>
<p>The conditional parallel trend is easy to understand when covariates required are small in number and if
covariates are discrete. For example, say, in the case of ACA-Medicaid example, the parallel trend
assumption holds once accounting for state’s partisan leaning in 2013 (pre-treatment). What does this mean exactly?
This would be equivalent to running two different DiD estimates: one for the group with Democrat Governor and the
other for the Republican governor. This gives two DiD estimates. Next, we average these two estimates to get the DiD
estimate for the whole sample.</p>
<p>GovernorisDemocrat1Yes is a variable that indicates whether a state’s governor is of the Democrat party.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="conditional-parallel-trend-assumption.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we need to first get the state partisan data for 2013 and merge with the main data</span></span>
<span id="cb123-2"><a href="conditional-parallel-trend-assumption.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="co"># note that it is recommended to conduct all data cleaning in separate files. </span></span>
<span id="cb123-3"><a href="conditional-parallel-trend-assumption.html#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="co"># we are doing this in a fly, so I break that rule. </span></span>
<span id="cb123-4"><a href="conditional-parallel-trend-assumption.html#cb123-4" aria-hidden="true" tabindex="-1"></a>dat_gov2013  <span class="ot">&lt;-</span> dat_canonical  <span class="sc">%&gt;%</span> </span>
<span id="cb123-5"><a href="conditional-parallel-trend-assumption.html#cb123-5" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb123-6"><a href="conditional-parallel-trend-assumption.html#cb123-6" aria-hidden="true" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(countyfips, GovernorisDemocrat1Yes))  <span class="sc">%&gt;%</span> </span>
<span id="cb123-7"><a href="conditional-parallel-trend-assumption.html#cb123-7" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">rename</span>(<span class="at">GovernorisDemocrat1Yes2013 =</span> GovernorisDemocrat1Yes)</span>
<span id="cb123-8"><a href="conditional-parallel-trend-assumption.html#cb123-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-9"><a href="conditional-parallel-trend-assumption.html#cb123-9" aria-hidden="true" tabindex="-1"></a>dat_canonical  <span class="ot">&lt;-</span> dat_canonical  <span class="sc">%&gt;%</span> </span>
<span id="cb123-10"><a href="conditional-parallel-trend-assumption.html#cb123-10" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">merge</span>(dat_gov2013, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;countyfips&quot;</span>), <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb123-11"><a href="conditional-parallel-trend-assumption.html#cb123-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-12"><a href="conditional-parallel-trend-assumption.html#cb123-12" aria-hidden="true" tabindex="-1"></a><span class="co"># get the first and second differences for states with democrat governor in 2013</span></span>
<span id="cb123-13"><a href="conditional-parallel-trend-assumption.html#cb123-13" aria-hidden="true" tabindex="-1"></a>first_diff_dem  <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> </span>
<span id="cb123-14"><a href="conditional-parallel-trend-assumption.html#cb123-14" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">&amp;</span> </span>
<span id="cb123-15"><a href="conditional-parallel-trend-assumption.html#cb123-15" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">1</span>], <span class="at">na.rm =</span> T)  <span class="sc">-</span> </span>
<span id="cb123-16"><a href="conditional-parallel-trend-assumption.html#cb123-16" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> </span>
<span id="cb123-17"><a href="conditional-parallel-trend-assumption.html#cb123-17" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">&amp;</span></span>
<span id="cb123-18"><a href="conditional-parallel-trend-assumption.html#cb123-18" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">1</span>], <span class="at">na.rm =</span> T)</span>
<span id="cb123-19"><a href="conditional-parallel-trend-assumption.html#cb123-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-20"><a href="conditional-parallel-trend-assumption.html#cb123-20" aria-hidden="true" tabindex="-1"></a>second_diff_dem  <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> </span>
<span id="cb123-21"><a href="conditional-parallel-trend-assumption.html#cb123-21" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2013</span> <span class="sc">&amp;</span> </span>
<span id="cb123-22"><a href="conditional-parallel-trend-assumption.html#cb123-22" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">1</span>], <span class="at">na.rm =</span> T) <span class="sc">-</span> </span>
<span id="cb123-23"><a href="conditional-parallel-trend-assumption.html#cb123-23" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> </span>
<span id="cb123-24"><a href="conditional-parallel-trend-assumption.html#cb123-24" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2013</span> <span class="sc">&amp;</span></span>
<span id="cb123-25"><a href="conditional-parallel-trend-assumption.html#cb123-25" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">1</span>], <span class="at">na.rm =</span> T)</span>
<span id="cb123-26"><a href="conditional-parallel-trend-assumption.html#cb123-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-27"><a href="conditional-parallel-trend-assumption.html#cb123-27" aria-hidden="true" tabindex="-1"></a><span class="co"># get the first and second differences for the state with the republican state in 2013</span></span>
<span id="cb123-28"><a href="conditional-parallel-trend-assumption.html#cb123-28" aria-hidden="true" tabindex="-1"></a>first_diff_rep  <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> </span>
<span id="cb123-29"><a href="conditional-parallel-trend-assumption.html#cb123-29" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">&amp;</span> </span>
<span id="cb123-30"><a href="conditional-parallel-trend-assumption.html#cb123-30" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">0</span>], <span class="at">na.rm =</span> T)  <span class="sc">-</span> </span>
<span id="cb123-31"><a href="conditional-parallel-trend-assumption.html#cb123-31" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> </span>
<span id="cb123-32"><a href="conditional-parallel-trend-assumption.html#cb123-32" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">&amp;</span></span>
<span id="cb123-33"><a href="conditional-parallel-trend-assumption.html#cb123-33" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">0</span>], <span class="at">na.rm =</span> T)</span>
<span id="cb123-34"><a href="conditional-parallel-trend-assumption.html#cb123-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-35"><a href="conditional-parallel-trend-assumption.html#cb123-35" aria-hidden="true" tabindex="-1"></a>second_diff_rep  <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> </span>
<span id="cb123-36"><a href="conditional-parallel-trend-assumption.html#cb123-36" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2013</span> <span class="sc">&amp;</span> </span>
<span id="cb123-37"><a href="conditional-parallel-trend-assumption.html#cb123-37" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">0</span>], <span class="at">na.rm =</span> T)   <span class="sc">-</span> </span>
<span id="cb123-38"><a href="conditional-parallel-trend-assumption.html#cb123-38" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>sahieunins138[dat_canonical<span class="sc">$</span>expand <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> </span>
<span id="cb123-39"><a href="conditional-parallel-trend-assumption.html#cb123-39" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2013</span> <span class="sc">&amp;</span></span>
<span id="cb123-40"><a href="conditional-parallel-trend-assumption.html#cb123-40" aria-hidden="true" tabindex="-1"></a>                    dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013 <span class="sc">==</span> <span class="dv">0</span>], <span class="at">na.rm =</span> T)</span>
<span id="cb123-41"><a href="conditional-parallel-trend-assumption.html#cb123-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-42"><a href="conditional-parallel-trend-assumption.html#cb123-42" aria-hidden="true" tabindex="-1"></a>did_dem  <span class="ot">&lt;-</span> first_diff_dem <span class="sc">-</span> second_diff_dem</span>
<span id="cb123-43"><a href="conditional-parallel-trend-assumption.html#cb123-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-44"><a href="conditional-parallel-trend-assumption.html#cb123-44" aria-hidden="true" tabindex="-1"></a>did_rep  <span class="ot">&lt;-</span> first_diff_rep <span class="sc">-</span> second_diff_rep</span>
<span id="cb123-45"><a href="conditional-parallel-trend-assumption.html#cb123-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-46"><a href="conditional-parallel-trend-assumption.html#cb123-46" aria-hidden="true" tabindex="-1"></a><span class="co"># fraction with Democrat Governor</span></span>
<span id="cb123-47"><a href="conditional-parallel-trend-assumption.html#cb123-47" aria-hidden="true" tabindex="-1"></a>gov_dem  <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat_canonical<span class="sc">$</span>GovernorisDemocrat1Yes2013, <span class="at">na.rm =</span> T) </span>
<span id="cb123-48"><a href="conditional-parallel-trend-assumption.html#cb123-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-49"><a href="conditional-parallel-trend-assumption.html#cb123-49" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted average</span></span>
<span id="cb123-50"><a href="conditional-parallel-trend-assumption.html#cb123-50" aria-hidden="true" tabindex="-1"></a>did_estimate  <span class="ot">&lt;-</span> (gov_dem <span class="sc">*</span> did_dem) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">-</span> gov_dem) <span class="sc">*</span> did_rep</span>
<span id="cb123-51"><a href="conditional-parallel-trend-assumption.html#cb123-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-52"><a href="conditional-parallel-trend-assumption.html#cb123-52" aria-hidden="true" tabindex="-1"></a><span class="co"># conditional DiD estimate</span></span>
<span id="cb123-53"><a href="conditional-parallel-trend-assumption.html#cb123-53" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;did estimate (controling for state partisan leaning in 2013) = </span><span class="sc">\n</span><span class="st">&quot;</span>, did_estimate)</span></code></pre></div>
<pre><code>## did estimate (controling for state partisan leaning in 2013) = 
##  -5.091879</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="conditional-parallel-trend-assumption.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># unconditional DiD estimate (note: we already have this from previous estimation)</span></span>
<span id="cb125-2"><a href="conditional-parallel-trend-assumption.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;did estimate (no controls) = </span><span class="sc">\n</span><span class="st">&quot;</span>, naive <span class="sc">-</span> naive_pre)</span></code></pre></div>
<pre><code>## did estimate (no controls) = 
##  -5.813426</code></pre>
<p>What we observe is that DiD estimate that accounts for a state’s political leaning in
2013 is slightly lower than the unconditional version. The difference is not too large in this case.
However, I’d still be inclined to trust the conditional DiD estimate.</p>
<p>Why so?</p>
<p>This is because the condition forces comparison across the treatment vs. control units with the same political leaning in 2013.
For example, treated units under the Democrat regime are compared to control units also under the Democrat regime. The same goes with
treated and control units falling under the Republican Governor in 2013. Since, ACA
was highly politicized and also since Democrat vs. Republican states are quite different in socio-economic factors, we
need to make sure that we are comparing units with similar political leaning.
In other words, we are conducting relatively more similar comparison.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="did-in-multi-period-set-up.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="some-concerns-with-controls.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
